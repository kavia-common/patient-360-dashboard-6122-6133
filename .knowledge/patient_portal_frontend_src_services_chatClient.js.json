{"is_source_file": true, "format": "JavaScript", "description": "This file implements a chat client for a frontend application, providing methods to send messages either via a backend relay or directly to a generative language API (Gemini). It manages environment configurations, constructs API requests, handles responses, and exports the sendMessage function for use elsewhere in the project.", "external_files": ["fetch API (built-in browser API)"], "external_methods": ["fetch"], "published": ["sendMessage"], "classes": [], "methods": [{"name": "sendMessage(message, context = [])", "description": "Asynchronously sends a chat message, returning the assistant's response text. Supports both relay mode and direct Gemini API calls based on environment variables.", "scope": "", "scopeKind": ""}], "calls": ["fetch", "resp.json", "resp.text", "JSON.stringify", "encodeURIComponent"], "search-terms": ["chatClient", "sendMessage", "Gemini API", "REACT_APP_GEMINI_DIRECT", "process.env.REACT_APP_BACKEND_URL"], "state": 2, "file_id": 14, "knowledge_revision": 34, "git_revision": "", "ctags": [{"_type": "tag", "name": "BASE_URL", "path": "/home/kavia/workspace/code-generation/patient-360-dashboard-6122-6133/patient_portal_frontend/src/services/chatClient.js", "pattern": "/^const BASE_URL = process.env.REACT_APP_BACKEND_URL || \"\";$/", "language": "JavaScript", "kind": "constant"}, {"_type": "tag", "name": "GEMINI_API_KEY", "path": "/home/kavia/workspace/code-generation/patient-360-dashboard-6122-6133/patient_portal_frontend/src/services/chatClient.js", "pattern": "/^const GEMINI_API_KEY = process.env.REACT_APP_GEMINI_API_KEY || \"\";$/", "language": "JavaScript", "kind": "constant"}, {"_type": "tag", "name": "GEMINI_DIRECT", "path": "/home/kavia/workspace/code-generation/patient-360-dashboard-6122-6133/patient_portal_frontend/src/services/chatClient.js", "pattern": "/^const GEMINI_DIRECT = String(process.env.REACT_APP_GEMINI_DIRECT || \"false\").toLowerCase() === \"/", "language": "JavaScript", "kind": "constant"}, {"_type": "tag", "name": "GEMINI_MODEL", "path": "/home/kavia/workspace/code-generation/patient-360-dashboard-6122-6133/patient_portal_frontend/src/services/chatClient.js", "pattern": "/^const GEMINI_MODEL = process.env.REACT_APP_GEMINI_MODEL || \"gemini-1.5-flash\";$/", "language": "JavaScript", "kind": "constant"}, {"_type": "tag", "name": "contents", "path": "/home/kavia/workspace/code-generation/patient-360-dashboard-6122-6133/patient_portal_frontend/src/services/chatClient.js", "pattern": "/^    contents: [$/", "language": "JavaScript", "kind": "property", "scope": "sendMessage.payload", "scopeKind": "class"}, {"_type": "tag", "name": "payload", "path": "/home/kavia/workspace/code-generation/patient-360-dashboard-6122-6133/patient_portal_frontend/src/services/chatClient.js", "pattern": "/^  const payload = {$/", "language": "JavaScript", "kind": "class", "scope": "sendMessage", "scopeKind": "class"}, {"_type": "tag", "name": "sendMessage", "path": "/home/kavia/workspace/code-generation/patient-360-dashboard-6122-6133/patient_portal_frontend/src/services/chatClient.js", "pattern": "/^export async function sendMessage(message, context = []) {$/", "language": "JavaScript", "kind": "function", "signature": "(message, context = [])"}], "hash": "68ac10e61e6d4cd7c63e9d6b1bdc64d9", "format-version": 4, "code-base-name": "patient_portal_frontend", "filename": "patient_portal_frontend/src/services/chatClient.js", "fields": [{"name": "contents: [", "scope": "sendMessage.payload", "scopeKind": "class", "description": "unavailable"}], "revision_history": [{"34": ""}]}